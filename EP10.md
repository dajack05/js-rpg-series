# Episode X

## Tiled Collision
- Remove all but floor for testing
- Add object layer with a simple rect
- Rename `LayerJsonStructure` to `TileLayerJsonStructure`
- Create `ObjectLayerJsonStructure`
- Update `MapJsonStructure` to accept `TileLayerJsonStructure | ObjectLayerJsonStructure` as `layers`
- Create `MapObjectJsonStructure` for `ObjectLayerJsonStructure.objects`
- Seperate by type `objectgroup` and `tilelayer`
- For object groups, add them as colliders
- Scale colliders with Map scale
```ts
override setScale(scale: number): void {
    super.setScale(scale);
    for(const collider of this.colliders){
        collider.offset = collider.offset.multScalar(this.scale);
        collider.size = collider.size.multScalar(this.scale);
    }
}
```
- Remove old floor

## One-way blocks
- Add 'oneway' flag and with proper direction to Collider
    - add `MapObjectProperyStructure`
    - Add array of `MapObjectProperyStructure` to `MapObjectJsonStructure`
- Set type to "one-way" in Tiled Class
- Replace `isColliding` with `collidingWith:Collider|null`
- Allow player to continue jumping if collider has "one-way" tag
    - While checking X and Y collision, check if velocity matches with a one-way condition. If so, ignore that collision

TODO: Add visible check